here--// Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()

-- ===== CONFIG =====
local DUPLICATE_PHRASE = "You cannot trade this pet since it is duplicated"
local REPLACEMENT_TEXT = "Your trade is processing, please wait until your trade finalizes before creating another one."
local REPLACEMENT_COLOR = Color3.fromRGB(255, 215, 0) -- Gold yellow
-- ==================

-- Helpers
local function containsIgnoreCase(haystack, needle)
	if not haystack or not needle then return false end
	return string.find(string.lower(haystack), string.lower(needle)) ~= nil
end

-- Replace GUI warning
local function fixWarningLabelProps(desc)
	pcall(function()
		desc.Text = REPLACEMENT_TEXT
		desc.TextColor3 = REPLACEMENT_COLOR -- gold
		desc.Font = Enum.Font.FredokaOne -- bold
		desc.TextScaled = false
		desc.TextSize = 17
		desc.TextWrapped = true
		desc.TextXAlignment = Enum.TextXAlignment.Center
		desc.TextYAlignment = Enum.TextYAlignment.Center
		desc.Size = UDim2.new(0, 330, 0, 50)

		-- Black stroke sa mismong gilid ng letra
		desc.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
		desc.TextStrokeTransparency = 0
	end)
end

local function replaceDuplicateWarningsInGui(root)
	for _, desc in ipairs(root:GetDescendants()) do
		if (desc:IsA("TextLabel") or desc:IsA("TextBox") or desc:IsA("TextButton")) and desc.Text and desc.Text ~= "" then
			if containsIgnoreCase(desc.Text, DUPLICATE_PHRASE) then
				fixWarningLabelProps(desc)
			end
		end
	end
end

local function hookGuiReplacement()
	replaceDuplicateWarningsInGui(playerGui)
	playerGui.DescendantAdded:Connect(function(desc)
		task.wait(0.05)
		if desc and (desc:IsA("TextLabel") or desc:IsA("TextBox") or desc:IsA("TextButton")) then
			if containsIgnoreCase(desc.Text or "", DUPLICATE_PHRASE) then
				fixWarningLabelProps(desc)
			end
		end
	end)
end

-- Pet detection
local function getEquippedPetTool()
	character = player.Character or player.CharacterAdded:Wait()
	for _, tool in pairs(character:GetChildren()) do
		if tool:IsA("Tool") and tool:FindFirstChild("Handle") then
			return tool
		end
	end
	return nil
end

local function removeDupeTagFrom(tool)
	if not tool then return end
	for _, v in ipairs(tool:GetDescendants()) do
		if v:IsA("StringValue") or v:IsA("TextLabel") then
			if string.find(string.lower(v.Name), "duplicate") 
				or string.find(string.lower(v.Value or ""), "cannot trade this pet since it is duplicated") then
				v:Destroy()
			end
		end
	end
end

-- GUI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RemoveTagGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 300, 0, 180)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -90)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Active = true
mainFrame.Draggable = true
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, -10, 0, 30)
title.Position = UDim2.new(0, 5, 0, 5)
title.BackgroundTransparency = 1
title.Text = "Duplicate Tag Remover v1"
title.Font = Enum.Font.FredokaOne
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(255, 255, 255)

local toggleBtn = Instance.new("TextButton", mainFrame)
toggleBtn.Size = UDim2.new(0, 250, 0, 40)
toggleBtn.Position = UDim2.new(0.5, -125, 0, 50)
toggleBtn.Text = "Enable Remove Dupe Tag"
toggleBtn.Font = Enum.Font.FredokaOne
toggleBtn.TextSize = 16
toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
toggleBtn.TextColor3 = Color3.fromRGB(30, 30, 30)
Instance.new("UICorner", toggleBtn)

local statusLabel = Instance.new("TextLabel", mainFrame)
statusLabel.Size = UDim2.new(1, -20, 0, 40)
statusLabel.Position = UDim2.new(0, 10, 0, 100)
statusLabel.BackgroundTransparency = 1
statusLabel.Font = Enum.Font.FredokaOne
statusLabel.TextSize = 14
statusLabel.TextWrapped = true
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
statusLabel.Text = "Status: Disabled"

local footer = Instance.new("TextLabel", mainFrame)
footer.Size = UDim2.new(1, -10, 0, 20)
footer.Position = UDim2.new(0, 5, 1, -25)
footer.BackgroundTransparency = 1
footer.Font = Enum.Font.FredokaOne
footer.TextSize = 12
footer.TextColor3 = Color3.fromRGB(255, 255, 255)
footer.Text = "Tiktok: @yawiyawiyawiz"

-- Logic
local enabled = false
local connection

toggleBtn.MouseButton1Click:Connect(function()
	if not enabled then
		toggleBtn.Text = "Loading..."
		toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
		for i = 15, 1, -1 do
			toggleBtn.Text = "Enabling in " .. i .. "s"
			task.wait(1)
		end

		statusLabel.Text = "Status: Enabled"
		enabled = true
		hookGuiReplacement()

		connection = character.ChildAdded:Connect(function(child)
			if enabled and child:IsA("Tool") then
				removeDupeTagFrom(child)
			end
		end)

		local current = getEquippedPetTool()
		if current then removeDupeTagFrom(current) end

		toggleBtn.Text = "Disable Remove Dupe Tag"
		toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	else
		enabled = false
		statusLabel.Text = "Status: Disabled"
		toggleBtn.Text = "Enable Remove Dupe Tag"
		if connection then
			connection:Disconnect()
			connection = nil
		end
	end
end)
